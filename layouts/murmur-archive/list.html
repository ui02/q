{{ define "main" }}
<h1>{{ .Title }}</h1>

{{/* すべての子ページを取得し、日付で降順ソート */}}
{{ $allPages := sort .Pages "Date" "desc" }}

{{/* 月ごとにまとめる */}}
{{ $currentMonth := "" }}
{{ range $allPages }}
  {{ $pageMonth := .Date.Format "2006-01" }}
  {{ if ne $pageMonth $currentMonth }}
    {{ if ne $currentMonth "" }}</ul>{{ end }}
    <h2>{{ .Date.Format "2006年01月" }}</h2>
    <ul>
    {{ $currentMonth = $pageMonth }}
  {{ end }}
  <li>
    <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "01/02" }}</time>:
    {{ .Content }}
  </li>
{{ end }}
</ul>
{{ end }}
